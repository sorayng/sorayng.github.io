<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>sorayNg OPTimized - seanyang</title>
        <link rel="stylesheet" href="http://sorayng.github.io/theme/css/main.css" />

        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="http://sorayng.github.io/">sorayNg OPTimized  <strong>Life is Non-OPTimal.</strong></a></h1>
                <nav><ul>
                    <li><a href="http://sorayng.github.io/category/che.html">ChE</a></li>
                    <li><a href="http://sorayng.github.io/category/optimization.html">Optimization</a></li>
                    <li><a href="http://sorayng.github.io/category/productivity.html">Productivity</a></li>
                    <li><a href="http://sorayng.github.io/category/toys.html">Toys</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="http://sorayng.github.io/optimization/fixed-variables-and-parameters-in-gams.html">GAMS中的固定变量和参数</a></h1>
<footer class="post-info">
        <abbr class="published" title="2014-09-23T13:30:00">
                Tue 23 September 2014
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="http://sorayng.github.io/author/seanyang.html">seanyang</a>
        </address>
<p>In <a href="http://sorayng.github.io/category/optimization.html">Optimization</a>. </p>
<p>tags: <a href="http://sorayng.github.io/tag/gams.html">GAMS</a></p>
</footer><!-- /.post-info --><p>在GAMS中，固定变量（fixed variable）和参数（parameter）的处理方式并不是相同的。一个固定变量并不总是被当作参数来处理，但可以通过设置<code>holdfixed</code>属性来实现固定变量的参数化，从而在求解过程中达到简化模型的目的。</p>
<p>如果设置模型属性<code>modelname.holdfixed = 1</code>，那么GAMS在编译的过程中将把固定变量（即变量的上下限相等）从模型中移除。由于编译后模型才被传递到求解器，所以在这种情况下，固定变量是被当作参数来处理的，这与求解器无关。</p>
<p>GAMS默认情况下，<code>modelname.holdfixed = 0</code>，这时固定变量是否被当作参数来处理由求解器决定，比如conopt并没有将固定变量当作参数来处理。</p>
<p>要注意的一点是，虽然通过设置<code>holdfixed</code>属性来简化模型，但是这时得不到变量的marginal值，因为求解器并没有看到这些变量。</p>
<p>可以通过下面的例子来比较固定变量和参数的处理方式：</p>
<div class="highlight"><pre><span class="o">*</span> <span class="n">begin</span> <span class="n">holdfixed</span><span class="p">.</span><span class="n">gms</span>
<span class="n">SET</span> <span class="n">J</span> <span class="o">/</span> <span class="mi">1</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">/</span><span class="p">;</span>
<span class="n">PARAMETER</span> <span class="nf">a</span><span class="p">(</span><span class="n">J</span><span class="p">);</span>
<span class="n">a</span><span class="p">(</span><span class="n">J</span><span class="p">)</span> <span class="o">=</span> <span class="n">uniform</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>
<span class="n">VARIABLES</span> <span class="n">x</span><span class="p">(</span><span class="n">J</span><span class="p">),</span><span class="n">z</span><span class="p">;</span>
<span class="n">EQUATIONS</span> <span class="n">f</span><span class="p">(</span><span class="n">J</span><span class="p">),</span> <span class="n">objdef</span><span class="p">;</span>
<span class="n">objdef</span><span class="p">..</span> <span class="n">z</span>    <span class="o">=</span><span class="n">e</span><span class="o">=</span> <span class="n">sum</span><span class="p">{</span><span class="n">J</span><span class="p">,</span> <span class="n">power</span><span class="p">(</span><span class="n">x</span><span class="p">(</span><span class="n">J</span><span class="p">)</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">)};</span>
<span class="n">f</span><span class="p">(</span><span class="n">J</span><span class="p">)</span> <span class="p">..</span>  <span class="n">x</span><span class="p">(</span><span class="n">J</span><span class="p">)</span> <span class="o">=</span><span class="n">e</span><span class="o">=</span> <span class="n">a</span><span class="p">(</span><span class="n">J</span><span class="p">);</span>
<span class="n">model</span> <span class="n">foo</span> <span class="o">/</span> <span class="n">objdef</span> <span class="o">/</span><span class="p">;</span>
<span class="n">model</span> <span class="n">bar</span> <span class="o">/</span> <span class="n">objdef</span><span class="p">,</span> <span class="n">f</span> <span class="o">/</span><span class="p">;</span>
<span class="n">option</span> <span class="n">nlp</span> <span class="o">=</span> <span class="n">conopt</span><span class="p">;</span>
<span class="o">*</span> <span class="n">this</span> <span class="n">model</span> <span class="n">has</span> <span class="n">many</span> <span class="n">constraints</span><span class="p">,</span> <span class="n">many</span> <span class="n">free</span> <span class="n">variables</span>
<span class="o">*</span> <span class="n">the</span> <span class="n">solver</span> <span class="n">has</span> <span class="n">freedom</span> <span class="n">in</span> <span class="n">presolving</span><span class="o">/</span><span class="n">removing</span> <span class="n">them</span> <span class="p">(</span><span class="k">if</span> <span class="n">it</span> <span class="n">can</span><span class="p">)</span> <span class="n">or</span> <span class="n">not</span>
<span class="o">*</span> <span class="n">in</span> <span class="n">the</span> <span class="n">listing</span><span class="p">,</span> <span class="n">the</span> <span class="n">nonzero</span> <span class="n">marginals</span> <span class="n">are</span> <span class="n">on</span> <span class="n">the</span> <span class="n">equation</span> <span class="n">f</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>
<span class="n">solve</span> <span class="n">bar</span> <span class="n">using</span> <span class="n">nlp</span> <span class="n">minimizing</span> <span class="n">z</span><span class="p">;</span>
<span class="o">*</span> <span class="n">this</span> <span class="n">model</span> <span class="n">has</span> <span class="n">one</span> <span class="n">constraint</span><span class="p">,</span> <span class="n">many</span> <span class="n">variables</span>
<span class="o">*</span> <span class="n">the</span> <span class="n">solver</span> <span class="n">has</span> <span class="n">freedom</span> <span class="n">in</span> <span class="n">presolving</span><span class="o">/</span><span class="n">removing</span> <span class="n">them</span> <span class="p">(</span><span class="k">if</span> <span class="n">it</span> <span class="n">can</span><span class="p">)</span> <span class="n">or</span> <span class="n">not</span>
<span class="o">*</span> <span class="n">in</span> <span class="n">the</span> <span class="n">listing</span><span class="p">,</span> <span class="n">the</span> <span class="n">nonzero</span> <span class="n">marginals</span> <span class="n">are</span> <span class="n">on</span> <span class="n">the</span> <span class="n">variables</span> <span class="n">x</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>
<span class="n">x</span><span class="p">.</span><span class="n">fx</span><span class="p">(</span><span class="n">J</span><span class="p">)</span> <span class="o">=</span> <span class="n">a</span><span class="p">(</span><span class="n">J</span><span class="p">);</span>
<span class="n">solve</span> <span class="n">foo</span> <span class="n">using</span> <span class="n">nlp</span> <span class="n">minimizing</span> <span class="n">z</span><span class="p">;</span>
<span class="o">*</span> <span class="n">with</span> <span class="n">holdfixed</span> <span class="n">on</span><span class="p">,</span> <span class="n">the</span> <span class="n">solver</span> <span class="n">sees</span> <span class="n">only</span> <span class="n">one</span> <span class="n">constraint</span><span class="p">,</span> <span class="n">one</span> <span class="n">variable</span>
<span class="o">*</span> <span class="n">it</span> <span class="n">doesn</span><span class="err">’</span><span class="n">t</span> <span class="n">even</span> <span class="n">know</span> <span class="n">the</span> <span class="n">variable</span> <span class="n">x</span> <span class="n">exists</span>
<span class="o">*</span> <span class="n">in</span> <span class="n">the</span> <span class="n">listing</span><span class="p">,</span> <span class="n">you</span> <span class="n">won</span><span class="err">’</span><span class="n">t</span> <span class="n">see</span> <span class="n">any</span> <span class="n">marginals</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span>
<span class="o">*</span> <span class="n">since</span> <span class="n">the</span> <span class="n">solver</span> <span class="n">never</span> <span class="n">saw</span> <span class="n">x</span>
<span class="n">x</span><span class="p">.</span><span class="n">m</span><span class="p">(</span><span class="n">J</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">foo</span><span class="p">.</span><span class="n">holdfixed</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">solve</span> <span class="n">foo</span> <span class="n">using</span> <span class="n">nlp</span> <span class="n">minimizing</span> <span class="n">z</span><span class="p">;</span>
<span class="o">*</span> <span class="n">end</span> <span class="n">holdfixed</span><span class="p">.</span><span class="n">gms</span>
</pre></div>


<p>Reference
1. <a href="http://support.gams.com/doku.php?id=gams:fixed_variables_vs._parameters_vs._equations">Fixed Variables vs. Parameters vs. Equations</a></p><p>There are <a href="http://sorayng.github.io/optimization/fixed-variables-and-parameters-in-gams.html#disqus_thread">comments</a>.</p>                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="http://sorayng.github.io/productivity/hide-worksheets-using-excel-vba.html" rel="bookmark"
                           title="Permalink to 通过VBA隐藏Excel工作表">通过VBA隐藏Excel工作表</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-08-18T09:23:00">
                Mon 18 August 2014
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="http://sorayng.github.io/author/seanyang.html">seanyang</a>
        </address>
<p>In <a href="http://sorayng.github.io/category/productivity.html">Productivity</a>. </p>
<p>tags: <a href="http://sorayng.github.io/tag/vba.html">vba</a></p>
</footer><!-- /.post-info -->                <p>介绍通过VBA隐藏Excel工作表的方法</p>
                <a class="readmore" href="http://sorayng.github.io/productivity/hide-worksheets-using-excel-vba.html">read more</a>
<p>There are <a href="http://sorayng.github.io/productivity/hide-worksheets-using-excel-vba.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://sorayng.github.io/che/transfer-block-in-aspen-plus.html" rel="bookmark"
                           title="Permalink to Aspen Plus中的变量传递模块Transfer">Aspen Plus中的变量传递模块Transfer</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-08-13T14:14:00">
                Wed 13 August 2014
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="http://sorayng.github.io/author/seanyang.html">seanyang</a>
        </address>
<p>In <a href="http://sorayng.github.io/category/che.html">ChE</a>. </p>
<p>tags: <a href="http://sorayng.github.io/tag/aspen-plus.html">Aspen Plus</a></p>
</footer><!-- /.post-info -->                <p>讨论Aspen Plus中的变量传递模块Transfer</p>
                <a class="readmore" href="http://sorayng.github.io/che/transfer-block-in-aspen-plus.html">read more</a>
<p>There are <a href="http://sorayng.github.io/che/transfer-block-in-aspen-plus.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://sorayng.github.io/che/reactor-models-in-aspen-plus-requil.html" rel="bookmark"
                           title="Permalink to Aspen Plus中的反应器模型-REquil">Aspen Plus中的反应器模型-REquil</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-08-12T18:02:00">
                Tue 12 August 2014
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="http://sorayng.github.io/author/seanyang.html">seanyang</a>
        </address>
<p>In <a href="http://sorayng.github.io/category/che.html">ChE</a>. </p>
<p>tags: <a href="http://sorayng.github.io/tag/aspen-plus.html">Aspen Plus</a></p>
</footer><!-- /.post-info -->                <p>讨论Aspen Plus中的REquil反应器模型</p>
                <a class="readmore" href="http://sorayng.github.io/che/reactor-models-in-aspen-plus-requil.html">read more</a>
<p>There are <a href="http://sorayng.github.io/che/reactor-models-in-aspen-plus-requil.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://sorayng.github.io/che/reactor-models-in-aspen-plus-rstoic.html" rel="bookmark"
                           title="Permalink to Aspen Plus中的反应器模型-RStoic">Aspen Plus中的反应器模型-RStoic</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-08-05T14:32:00">
                Tue 05 August 2014
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="http://sorayng.github.io/author/seanyang.html">seanyang</a>
        </address>
<p>In <a href="http://sorayng.github.io/category/che.html">ChE</a>. </p>
<p>tags: <a href="http://sorayng.github.io/tag/aspen-plus.html">Aspen Plus</a></p>
</footer><!-- /.post-info -->                <p>讨论Aspen Plus中的RStoic反应器模型</p>
                <a class="readmore" href="http://sorayng.github.io/che/reactor-models-in-aspen-plus-rstoic.html">read more</a>
<p>There are <a href="http://sorayng.github.io/che/reactor-models-in-aspen-plus-rstoic.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://sorayng.github.io/productivity/move-and-backup-thunderbird-profiles-and-emails.html" rel="bookmark"
                           title="Permalink to Thunderbird账户配置和邮件的移动以及备份">Thunderbird账户配置和邮件的移动以及备份</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-08-04T15:18:00">
                Mon 04 August 2014
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="http://sorayng.github.io/author/seanyang.html">seanyang</a>
        </address>
<p>In <a href="http://sorayng.github.io/category/productivity.html">Productivity</a>. </p>
<p>tags: <a href="http://sorayng.github.io/tag/thunderbird.html">thunderbird</a><a href="http://sorayng.github.io/tag/email.html">email</a></p>
</footer><!-- /.post-info -->                <p>介绍Thunderbird账户配置和邮件的移动以及备份方法</p>
                <a class="readmore" href="http://sorayng.github.io/productivity/move-and-backup-thunderbird-profiles-and-emails.html">read more</a>
<p>There are <a href="http://sorayng.github.io/productivity/move-and-backup-thunderbird-profiles-and-emails.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://sorayng.github.io/che/conventional-solids-in-aspen-plus.html" rel="bookmark"
                           title="Permalink to Aspen Plus中的常规固体">Aspen Plus中的常规固体</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-08-04T10:52:00">
                Mon 04 August 2014
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="http://sorayng.github.io/author/seanyang.html">seanyang</a>
        </address>
<p>In <a href="http://sorayng.github.io/category/che.html">ChE</a>. </p>
<p>tags: <a href="http://sorayng.github.io/tag/aspen-plus.html">Aspen Plus</a></p>
</footer><!-- /.post-info -->                <p>介绍Aspen Plus中常规固体的处理方法</p>
                <a class="readmore" href="http://sorayng.github.io/che/conventional-solids-in-aspen-plus.html">read more</a>
<p>There are <a href="http://sorayng.github.io/che/conventional-solids-in-aspen-plus.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://sorayng.github.io/che/substreams-in-aspen-plus.html" rel="bookmark"
                           title="Permalink to Aspen Plus中的子物流">Aspen Plus中的子物流</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-08-04T10:34:00">
                Mon 04 August 2014
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="http://sorayng.github.io/author/seanyang.html">seanyang</a>
        </address>
<p>In <a href="http://sorayng.github.io/category/che.html">ChE</a>. </p>
<p>tags: <a href="http://sorayng.github.io/tag/aspen-plus.html">Aspen Plus</a></p>
</footer><!-- /.post-info -->                <p>介绍Aspen Plus中的子物流类型</p>
                <a class="readmore" href="http://sorayng.github.io/che/substreams-in-aspen-plus.html">read more</a>
<p>There are <a href="http://sorayng.github.io/che/substreams-in-aspen-plus.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://sorayng.github.io/che/true-and-apparent-component-of-electrolyte-model-in-aspen-plus.html" rel="bookmark"
                           title="Permalink to Aspen Plus电解质模型中真实组分和表观组分的区别">Aspen Plus电解质模型中真实组分和表观组分的区别</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-08-01T16:07:00">
                Fri 01 August 2014
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="http://sorayng.github.io/author/seanyang.html">seanyang</a>
        </address>
<p>In <a href="http://sorayng.github.io/category/che.html">ChE</a>. </p>
<p>tags: <a href="http://sorayng.github.io/tag/aspen-plus.html">Aspen Plus</a></p>
</footer><!-- /.post-info -->                <p>介绍Aspen Plus电解质模拟中真实组分和表观组分的含义以及他们对模拟结果的影响。</p>
                <a class="readmore" href="http://sorayng.github.io/che/true-and-apparent-component-of-electrolyte-model-in-aspen-plus.html">read more</a>
<p>There are <a href="http://sorayng.github.io/che/true-and-apparent-component-of-electrolyte-model-in-aspen-plus.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://sorayng.github.io/productivity/markdown-quick-reference.html" rel="bookmark"
                           title="Permalink to Markdown语法速查">Markdown语法速查</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-08-01T15:31:00">
                Fri 01 August 2014
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="http://sorayng.github.io/author/seanyang.html">seanyang</a>
        </address>
<p>In <a href="http://sorayng.github.io/category/productivity.html">Productivity</a>. </p>
<p>tags: <a href="http://sorayng.github.io/tag/markdown.html">markdown</a></p>
</footer><!-- /.post-info -->                <p>Markdown语法速查</p>
                <a class="readmore" href="http://sorayng.github.io/productivity/markdown-quick-reference.html">read more</a>
<p>There are <a href="http://sorayng.github.io/productivity/markdown-quick-reference.html#disqus_thread">comments</a>.</p>                </div><!-- /.entry-content -->
            </article></li>
            </ol><!-- /#posts-list -->
<p class="paginator">
    Page 1 / 2
        <a href="http://sorayng.github.io/author\seanyang2.html">&raquo;</a>
</p>
            </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="https://github.com/sorayng/">GitHub</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Technical notes about optimization (algorithms, GAMS, etc.), chemical engineering (models, Aspen Plus, Hysys, etc.) and other interesting stuff. Email me: seanyang#gmx.com
                </address><!-- /#about -->

                <p>Proudly powered by <a href="http://getpelican.com/">Pelican</a>.</p>
                <p>The theme is originally by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a> and modified by <a href="http://sorayng.github.io/">me</a>.</p>
        </footer><!-- /#contentinfo -->

<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'sorayng-gh';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</body>
</html>